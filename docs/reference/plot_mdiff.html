<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plots for comparing continuous outcome variables between conditions — plot_mdiff • esci</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plots for comparing continuous outcome variables between conditions — plot_mdiff"><meta name="description" content="plot_mdiff helps visualize comparisons of a continuous outcome
variable between conditions.  It can plot raw data (if available) for each
condition, the mean or median (raw data only) for each condition, and
it emphasizes a 1-df comparison among conditions, plotting the estimated
difference and its confidence interval with a difference axis.
You can pass esci-estimate objects generated
by estimate_mdiff_one(), estimate_mdiff_two(),
estimate_mdiff_paired(), estimate_mdiff_ind_contrast(),
estimate_mdiff_2x2_between(), and estimate_mdiff_2x2_mixed().
This function returns a ggplot2 object."><meta property="og:description" content="plot_mdiff helps visualize comparisons of a continuous outcome
variable between conditions.  It can plot raw data (if available) for each
condition, the mean or median (raw data only) for each condition, and
it emphasizes a 1-df comparison among conditions, plotting the estimated
difference and its confidence interval with a difference axis.
You can pass esci-estimate objects generated
by estimate_mdiff_one(), estimate_mdiff_two(),
estimate_mdiff_paired(), estimate_mdiff_ind_contrast(),
estimate_mdiff_2x2_between(), and estimate_mdiff_2x2_mixed().
This function returns a ggplot2 object."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">esci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rcalinjageman/esci/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plots for comparing continuous outcome variables between conditions</h1>
      <small class="dont-index">Source: <a href="https://github.com/rcalinjageman/esci/blob/HEAD/R/plot_mdiff.R" class="external-link"><code>R/plot_mdiff.R</code></a></small>
      <div class="d-none name"><code>plot_mdiff.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>plot_mdiff</code> helps visualize comparisons of a continuous outcome
variable between conditions.  It can plot raw data (if available) for each
condition, the mean or median (raw data only) for each condition, and
it emphasizes a 1-df comparison among conditions, plotting the estimated
difference and its confidence interval with a difference axis.
You can pass esci-estimate objects generated
by <code><a href="estimate_mdiff_one.html">estimate_mdiff_one()</a></code>, <code><a href="estimate_mdiff_two.html">estimate_mdiff_two()</a></code>,
<code><a href="estimate_mdiff_paired.html">estimate_mdiff_paired()</a></code>, <code><a href="estimate_mdiff_ind_contrast.html">estimate_mdiff_ind_contrast()</a></code>,
<code><a href="estimate_mdiff_2x2_between.html">estimate_mdiff_2x2_between()</a></code>, and <code><a href="estimate_mdiff_2x2_mixed.html">estimate_mdiff_2x2_mixed()</a></code>.
This function returns a ggplot2 object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_mdiff</span><span class="op">(</span></span>
<span>  <span class="va">estimate</span>,</span>
<span>  effect_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"median"</span><span class="op">)</span>,</span>
<span>  data_layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"random"</span>, <span class="st">"swarm"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  data_spread <span class="op">=</span> <span class="fl">0.15</span>,</span>
<span>  error_layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"halfeye"</span>, <span class="st">"eye"</span>, <span class="st">"gradient"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  error_scale <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  error_nudge <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>  error_normalize <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"groups"</span>, <span class="st">"all"</span>, <span class="st">"panels"</span><span class="op">)</span>,</span>
<span>  difference_axis_units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"raw"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>  difference_axis_breaks <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  difference_axis_space <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  simple_contrast_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  ybreaks <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  rope <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  rope_units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"raw"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>  ggtheme <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-estimate">estimate<a class="anchor" aria-label="anchor" href="#arg-estimate"></a></dt>
<dd><p>An esci-estimate object generated by an estimate_mdiff_
function</p></dd>


<dt id="arg-effect-size">effect_size<a class="anchor" aria-label="anchor" href="#arg-effect-size"></a></dt>
<dd><p>Optional; one of 'mean' or 'median' to determine the
measure of central tendency plotted.  Note that median is only available if
the estimate was generated from raw data.  Defaults to 'mean'</p></dd>


<dt id="arg-data-layout">data_layout<a class="anchor" aria-label="anchor" href="#arg-data-layout"></a></dt>
<dd><p>Optional; one of 'random', 'swarm', or 'none' to determine
how raw data (if available) will be displayed.  Defaults to 'random'</p></dd>


<dt id="arg-data-spread">data_spread<a class="anchor" aria-label="anchor" href="#arg-data-spread"></a></dt>
<dd><p>Optional numeric determining width raw data will use
in each condition.  Defaults to 0.15 (relative to 1 unit per condition)</p></dd>


<dt id="arg-error-layout">error_layout<a class="anchor" aria-label="anchor" href="#arg-error-layout"></a></dt>
<dd><p>Optional; one of 'halfeye', 'eye', 'gradient' or 'none'
to determine how expected error distribution will be displayed for each
estimated parameter.  Defaults to 'halfeye'.  Currently does not apply
if 'median' is selected as effect size, in which case a simple error bar
will be used</p></dd>


<dt id="arg-error-scale">error_scale<a class="anchor" aria-label="anchor" href="#arg-error-scale"></a></dt>
<dd><p>Optional numeric determining width of the expected error
distribution.  Defaults to 0.3</p></dd>


<dt id="arg-error-nudge">error_nudge<a class="anchor" aria-label="anchor" href="#arg-error-nudge"></a></dt>
<dd><p>Optional numeric determining degree to which measures
of central tendency will be shifted to the right of the raw data; defaults
to 0.4</p></dd>


<dt id="arg-error-normalize">error_normalize<a class="anchor" aria-label="anchor" href="#arg-error-normalize"></a></dt>
<dd><p>Optional; one of 'groups', 'all', or 'panels' to
determine how width of the expected error distributions will be normalized.
Defaults to 'groups'.  See documentation in ggdist</p></dd>


<dt id="arg-difference-axis-units">difference_axis_units<a class="anchor" aria-label="anchor" href="#arg-difference-axis-units"></a></dt>
<dd><p>Optional; one of 'raw' or 'sd' to determine
if markings on the difference axis will be in raw-score units or in
standard-deviation units.  For 'sd' the standard deviation of the mean
difference is used, and this is true even if 'median' is selected as the
effect size</p></dd>


<dt id="arg-difference-axis-breaks">difference_axis_breaks<a class="anchor" aria-label="anchor" href="#arg-difference-axis-breaks"></a></dt>
<dd><p>Optional numeric &gt; 1 of suggested number of breaks
for the difference axis.  Defaults to 5</p></dd>


<dt id="arg-difference-axis-space">difference_axis_space<a class="anchor" aria-label="anchor" href="#arg-difference-axis-space"></a></dt>
<dd><p>Optional numeric &gt; 0 to indicate spacing to the
difference axis.  Defaults to 1</p></dd>


<dt id="arg-simple-contrast-labels">simple_contrast_labels<a class="anchor" aria-label="anchor" href="#arg-simple-contrast-labels"></a></dt>
<dd><p>Optional logical to determine if contrasts are
given simple labels ('Reference', 'Comparison', 'Difference') or more
descriptive labels based on the contrast specified.</p></dd>


<dt id="arg-ylim">ylim<a class="anchor" aria-label="anchor" href="#arg-ylim"></a></dt>
<dd><p>Optional 2-item vector specifying y-axis limits.  Defaults to
c(NA NA); Use NA to specify auto-limit.</p></dd>


<dt id="arg-ybreaks">ybreaks<a class="anchor" aria-label="anchor" href="#arg-ybreaks"></a></dt>
<dd><p>Optional numeric &gt; 2 for suggested number of y-axis breaks;
defaults to 5</p></dd>


<dt id="arg-rope">rope<a class="anchor" aria-label="anchor" href="#arg-rope"></a></dt>
<dd><p>Optional 2-item vector with item 2 &gt;= item 1.  Use to specify a range
of values to use to visualize a hypothesis test.  If both values are the
same, a point-null hypothesis test will be visualized.  If item2 &gt; item1
an interval-null hypothesis test will be visualized.  Defaults to c(NA, NA),
which is to not visualize a hypothesis test</p></dd>


<dt id="arg-rope-units">rope_units<a class="anchor" aria-label="anchor" href="#arg-rope-units"></a></dt>
<dd><p>Optional; one of 'raw' or 'sd' to indicate units of the rope
passed. Defaults to 'raw'</p></dd>


<dt id="arg-ggtheme">ggtheme<a class="anchor" aria-label="anchor" href="#arg-ggtheme"></a></dt>
<dd><p>Optional ggplot2 theme object to specify the visual style of the
plot.  Defaults to <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">ggplot2::theme_classic()</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a ggplot object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function was developed primarily for student use within jamovi when
learning along with the text book Introduction to the New Statistics, 2nd
edition (Cumming &amp; Calin-Jageman, 2024).</p>
<p>Expect breaking changes as this function is improved for general use.  Work
still do be done includes:</p><ul><li><p>Revise to avoid deprecated ggplot features</p></li>
<li><p>Revise for consistent ability to control aesthetics and consistent
layer names</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># From raw data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"data_penlaptop1"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">estimate_from_raw</span> <span class="op">&lt;-</span> <span class="fu">esci</span><span class="fu">::</span><span class="fu"><a href="estimate_mdiff_two.html">estimate_mdiff_two</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">data_penlaptop1</span>,</span></span>
<span class="r-in"><span>  outcome_variable <span class="op">=</span> <span class="va">transcription</span>,</span></span>
<span class="r-in"><span>  grouping_variable <span class="op">=</span> <span class="va">condition</span>,</span></span>
<span class="r-in"><span>  switch_comparison_order <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  assume_equal_variance <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To visualize the estimated median difference (raw data only)</span></span></span>
<span class="r-in"><span><span class="va">myplot_from_raw</span> <span class="op">&lt;-</span> <span class="fu">esci</span><span class="fu">::</span><span class="fu">plot_mdiff</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">estimate_from_raw</span>,</span></span>
<span class="r-in"><span>  effect_size <span class="op">=</span> <span class="st">"median"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Using <span style="color: #00BB00;">size</span> for a discrete variable is not advised.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Using alpha for a discrete variable is not advised.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Using <span style="color: #00BB00;">size</span> for a discrete variable is not advised.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Using alpha for a discrete variable is not advised.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To conduct a hypothesis test</span></span></span>
<span class="r-in"><span><span class="va">res_htest_from_raw</span> <span class="op">&lt;-</span> <span class="fu">esci</span><span class="fu">::</span><span class="fu"><a href="test_mdiff.html">test_mdiff</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">estimate_from_raw</span>,</span></span>
<span class="r-in"><span>  effect_size <span class="op">=</span> <span class="st">"median"</span>,</span></span>
<span class="r-in"><span>  rope <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># From summary data</span></span></span>
<span class="r-in"><span><span class="va">estimate_from_summary</span> <span class="op">&lt;-</span> <span class="fu">esci</span><span class="fu">::</span><span class="fu"><a href="estimate_mdiff_two.html">estimate_mdiff_two</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  comparison_mean <span class="op">=</span> <span class="fl">12.09</span>,</span></span>
<span class="r-in"><span>  comparison_sd <span class="op">=</span> <span class="fl">5.52</span>,</span></span>
<span class="r-in"><span>  comparison_n <span class="op">=</span> <span class="fl">103</span>,</span></span>
<span class="r-in"><span>  reference_mean <span class="op">=</span> <span class="fl">6.88</span>,</span></span>
<span class="r-in"><span>  reference_sd <span class="op">=</span> <span class="fl">4.22</span>,</span></span>
<span class="r-in"><span>  reference_n <span class="op">=</span> <span class="fl">48</span>,</span></span>
<span class="r-in"><span>  grouping_variable_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ref-Laptop"</span>, <span class="st">"Comp-Pen"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  outcome_variable_name <span class="op">=</span> <span class="st">"% Transcription"</span>,</span></span>
<span class="r-in"><span>  grouping_variable_name <span class="op">=</span> <span class="st">"Note-taking type"</span>,</span></span>
<span class="r-in"><span>  assume_equal_variance <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To visualize the estimated mean difference</span></span></span>
<span class="r-in"><span><span class="va">myplot</span> <span class="op">&lt;-</span> <span class="fu">esci</span><span class="fu">::</span><span class="fu">plot_mdiff</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">estimate_from_summary</span>,</span></span>
<span class="r-in"><span>  effect_size <span class="op">=</span> <span class="st">"mean"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Using <span style="color: #00BB00;">size</span> for a discrete variable is not advised.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Using <span style="color: #00BB00;">size</span> for a discrete variable is not advised.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To conduct a hypothesis test</span></span></span>
<span class="r-in"><span><span class="va">res_htest_from_summary</span> <span class="op">&lt;-</span> <span class="fu">esci</span><span class="fu">::</span><span class="fu"><a href="test_mdiff.html">test_mdiff</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">estimate_from_summary</span>,</span></span>
<span class="r-in"><span>  effect_size <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>  rope <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Calin-Jageman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

